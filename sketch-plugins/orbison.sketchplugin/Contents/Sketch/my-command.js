var that=this;function __skpm_run(key,context){that.context=context;var exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="./src/my-command.js")}({"./node_modules/@skpm/timers/immediate.js":
/*!************************************************!*\
  !*** ./node_modules/@skpm/timers/immediate.js ***!
  \************************************************/
/*! no static exports found */function(e,t,o){var n=o(/*! ./timeout */"./node_modules/@skpm/timers/timeout.js");e.exports={setImmediate:function(e,t,o,i,r,a,l,s,u,c,d){return n.setTimeout(e,0,t,o,i,r,a,l,s,u,c,d)},clearImmediate:function(e){return n.clearTimeout(e)}}},"./node_modules/@skpm/timers/interval.js":
/*!***********************************************!*\
  !*** ./node_modules/@skpm/timers/interval.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,o){var n,i,r=[];o(/*! ./test-if-fiber */"./node_modules/@skpm/timers/test-if-fiber.js")()?(n=function(e,t,o,n,i,a,l,s,u,c,d,m){var f=r.length;return r.push(coscript.scheduleWithRepeatingInterval_jsFunction((t||0)/1e3,function(){e(o,n,i,a,l,s,u,c,d,m)})),f},i=function(e){var t=r[e];t&&(t.cancel(),r[e]=void 0)}):(n=function(e,t,o,n,i,a,l,s,u,c,d,m){coscript.shouldKeepAround=!0;var f=r.length;return r.push(!0),function h(){coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){r[f]&&(e(o,n,i,a,l,s,u,c,d,m),h())})}(),f},i=function(e){r[e]=!1,r.every(function(e){return!e})&&(coscript.shouldKeepAround=!1)}),e.exports={setInterval:n,clearInterval:i}},"./node_modules/@skpm/timers/test-if-fiber.js":
/*!****************************************************!*\
  !*** ./node_modules/@skpm/timers/test-if-fiber.js ***!
  \****************************************************/
/*! no static exports found */function(e,t){e.exports=function(){return"undefined"!=typeof coscript&&coscript.createFiber}},"./node_modules/@skpm/timers/timeout.js":
/*!**********************************************!*\
  !*** ./node_modules/@skpm/timers/timeout.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,o){var n,i,r=[];if(o(/*! ./test-if-fiber */"./node_modules/@skpm/timers/test-if-fiber.js")()){r=[];n=function(e,t,o,n,i,a,l,s,u,c,d,m){var f=r.length;return r.push(coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){e(o,n,i,a,l,s,u,c,d,m)})),f},i=function(e){var t=r[e];t&&(t.cancel(),r[e]=void 0)}}else n=function(e,t,o,n,a,l,s,u,c,d,m,f){coscript.shouldKeepAround=!0;var h=r.length;return r.push(!0),coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){r[h]&&e(o,n,a,l,s,u,c,d,m,f),i(h),r.every(function(e){return!e})&&(coscript.shouldKeepAround=!1)}),h},i=function(e){r[e]=!1};e.exports={setTimeout:n,clearTimeout:i}},"./node_modules/bitly-tokens/dist/tokens.js":
/*!**************************************************!*\
  !*** ./node_modules/bitly-tokens/dist/tokens.js ***!
  \**************************************************/
/*! no static exports found */function(e,t){e.exports={color:{gray:{10:{value:"#f5f6f7",original:{value:"#F5F6F7"},name:"ColorGray10",attributes:{category:"color",type:"gray",item:"10"},path:["color","gray","10"]},20:{value:"#e8e9eb",original:{value:"#E8E9EB"},name:"ColorGray20",attributes:{category:"color",type:"gray",item:"20"},path:["color","gray","20"]},30:{value:"#d3d4d7",original:{value:"#D3D4D7"},name:"ColorGray30",attributes:{category:"color",type:"gray",item:"30"},path:["color","gray","30"]},40:{value:"#b0b1b4",original:{value:"#B0B1B4"},name:"ColorGray40",attributes:{category:"color",type:"gray",item:"40"},path:["color","gray","40"]},50:{value:"#828387",original:{value:"#828387"},name:"ColorGray50",attributes:{category:"color",type:"gray",item:"50"},path:["color","gray","50"]},60:{value:"#56575b",original:{value:"#56575B"},name:"ColorGray60",attributes:{category:"color",type:"gray",item:"60"},path:["color","gray","60"]},70:{value:"#36383b",original:{value:"#36383B"},name:"ColorGray70",attributes:{category:"color",type:"gray",item:"70"},path:["color","gray","70"]},80:{value:"#252628",original:{value:"#252628"},name:"ColorGray80",attributes:{category:"color",type:"gray",item:"80"},path:["color","gray","80"]},90:{value:"#1d1f21",original:{value:"#1D1F21"},name:"ColorGray90",attributes:{category:"color",type:"gray",item:"90"},path:["color","gray","90"]},100:{value:"#121314",original:{value:"#121314"},name:"ColorGray100",attributes:{category:"color",type:"gray",item:"100"},path:["color","gray","100"]}},blue:{10:{value:"#edf2fe",original:{value:"#EDF2FE"},name:"ColorBlue10",attributes:{category:"color",type:"blue",item:"10"},path:["color","blue","10"]},20:{value:"#cedafa",original:{value:"#CEDAFA"},name:"ColorBlue20",attributes:{category:"color",type:"blue",item:"20"},path:["color","blue","20"]},30:{value:"#a1b8f3",original:{value:"#A1B8F3"},name:"ColorBlue30",attributes:{category:"color",type:"blue",item:"30"},path:["color","blue","30"]},40:{value:"#688de8",original:{value:"#688DE8"},name:"ColorBlue40",attributes:{category:"color",type:"blue",item:"40"},path:["color","blue","40"]},50:{value:"#2a5bd7",original:{value:"#2A5BD7"},name:"ColorBlue50",attributes:{category:"color",type:"blue",item:"50"},path:["color","blue","50"]},60:{value:"#0236b9",original:{value:"#0236B9"},name:"ColorBlue60",attributes:{category:"color",type:"blue",item:"60"},path:["color","blue","60"]},70:{value:"#002a95",original:{value:"#002A95"},name:"ColorBlue70",attributes:{category:"color",type:"blue",item:"70"},path:["color","blue","70"]},80:{value:"#001f6d",original:{value:"#001F6D"},name:"ColorBlue80",attributes:{category:"color",type:"blue",item:"80"},path:["color","blue","80"]},90:{value:"#001345",original:{value:"#001345"},name:"ColorBlue90",attributes:{category:"color",type:"blue",item:"90"},path:["color","blue","90"]}},teal:{10:{value:"#e1faf6",original:{value:"#E1FAF6"},name:"ColorTeal10",attributes:{category:"color",type:"teal",item:"10"},path:["color","teal","10"]},20:{value:"#c2f6ed",original:{value:"#C2F6ED"},name:"ColorTeal20",attributes:{category:"color",type:"teal",item:"20"},path:["color","teal","20"]},30:{value:"#a0f2e5",original:{value:"#A0F2E5"},name:"ColorTeal30",attributes:{category:"color",type:"teal",item:"30"},path:["color","teal","30"]},40:{value:"#7eecda",original:{value:"#7EECDA"},name:"ColorTeal40",attributes:{category:"color",type:"teal",item:"40"},path:["color","teal","40"]},50:{value:"#5ce6cf",original:{value:"#5CE6CF"},name:"ColorTeal50",attributes:{category:"color",type:"teal",item:"50"},path:["color","teal","50"]},60:{value:"#4db8a8",original:{value:"#4DB8A8"},name:"ColorTeal60",attributes:{category:"color",type:"teal",item:"60"},path:["color","teal","60"]},70:{value:"#408c83",original:{value:"#408C83"},name:"ColorTeal70",attributes:{category:"color",type:"teal",item:"70"},path:["color","teal","70"]},80:{value:"#346260",original:{value:"#346260"},name:"ColorTeal80",attributes:{category:"color",type:"teal",item:"80"},path:["color","teal","80"]},90:{value:"#263b40",original:{value:"#263B40"},name:"ColorTeal90",attributes:{category:"color",type:"teal",item:"90"},path:["color","teal","90"]}},red:{10:{value:"#fee8e7",original:{value:"#FEE8E7"},name:"ColorRed10",attributes:{category:"color",type:"red",item:"10"},path:["color","red","10"]},20:{value:"#feb7b3",original:{value:"#FEB7B3"},name:"ColorRed20",attributes:{category:"color",type:"red",item:"20"},path:["color","red","20"]},30:{value:"#fb8983",original:{value:"#FB8983"},name:"ColorRed30",attributes:{category:"color",type:"red",item:"30"},path:["color","red","30"]},40:{value:"#f35e57",original:{value:"#F35E57"},name:"ColorRed40",attributes:{category:"color",type:"red",item:"40"},path:["color","red","40"]},50:{value:"#d53d35",original:{value:"#D53D35"},name:"ColorRed50",attributes:{category:"color",type:"red",item:"50"},path:["color","red","50"]},60:{value:"#ad2d27",original:{value:"#AD2D27"},name:"ColorRed60",attributes:{category:"color",type:"red",item:"60"},path:["color","red","60"]},70:{value:"#82201b",original:{value:"#82201B"},name:"ColorRed70",attributes:{category:"color",type:"red",item:"70"},path:["color","red","70"]},80:{value:"#5f1713",original:{value:"#5F1713"},name:"ColorRed80",attributes:{category:"color",type:"red",item:"80"},path:["color","red","80"]},90:{value:"#41100d",original:{value:"#41100D"},name:"ColorRed90",attributes:{category:"color",type:"red",item:"90"},path:["color","red","90"]}},yellow:{10:{value:"#fff5dc",original:{value:"#FFF5DC"},name:"ColorYellow10",attributes:{category:"color",type:"yellow",item:"10"},path:["color","yellow","10"]},20:{value:"#ffedbf",original:{value:"#FFEDBF"},name:"ColorYellow20",attributes:{category:"color",type:"yellow",item:"20"},path:["color","yellow","20"]},30:{value:"#ffe6a1",original:{value:"#FFE6A1"},name:"ColorYellow30",attributes:{category:"color",type:"yellow",item:"30"},path:["color","yellow","30"]},40:{value:"#ffdd83",original:{value:"#FFDD83"},name:"ColorYellow40",attributes:{category:"color",type:"yellow",item:"40"},path:["color","yellow","40"]},50:{value:"#ffd563",original:{value:"#FFD563"},name:"ColorYellow50",attributes:{category:"color",type:"yellow",item:"50"},path:["color","yellow","50"]},60:{value:"#ddae4c",original:{value:"#DDAE4C"},name:"ColorYellow60",attributes:{category:"color",type:"yellow",item:"60"},path:["color","yellow","60"]},70:{value:"#ba8935",original:{value:"#BA8935"},name:"ColorYellow70",attributes:{category:"color",type:"yellow",item:"70"},path:["color","yellow","70"]},80:{value:"#97671d",original:{value:"#97671D"},name:"ColorYellow80",attributes:{category:"color",type:"yellow",item:"80"},path:["color","yellow","80"]},90:{value:"#744605",original:{value:"#744605"},name:"ColorYellow90",attributes:{category:"color",type:"yellow",item:"90"},path:["color","yellow","90"]}},green:{10:{value:"#eef6e9",original:{value:"#EEF6E9"},name:"ColorGreen10",attributes:{category:"color",type:"green",item:"10"},path:["color","green","10"]},20:{value:"#c1e0af",original:{value:"#C1E0AF"},name:"ColorGreen20",attributes:{category:"color",type:"green",item:"20"},path:["color","green","20"]},30:{value:"#95c17e",original:{value:"#95C17E"},name:"ColorGreen30",attributes:{category:"color",type:"green",item:"30"},path:["color","green","30"]},40:{value:"#6e9f57",original:{value:"#6E9F57"},name:"ColorGreen40",attributes:{category:"color",type:"green",item:"40"},path:["color","green","40"]},50:{value:"#538140",original:{value:"#538140"},name:"ColorGreen50",attributes:{category:"color",type:"green",item:"50"},path:["color","green","50"]},60:{value:"#426835",original:{value:"#426835"},name:"ColorGreen60",attributes:{category:"color",type:"green",item:"60"},path:["color","green","60"]},70:{value:"#314d2a",original:{value:"#314D2A"},name:"ColorGreen70",attributes:{category:"color",type:"green",item:"70"},path:["color","green","70"]},80:{value:"#20341d",original:{value:"#20341D"},name:"ColorGreen80",attributes:{category:"color",type:"green",item:"80"},path:["color","green","80"]},90:{value:"#162315",original:{value:"#162315"},name:"ColorGreen90",attributes:{category:"color",type:"green",item:"90"},path:["color","green","90"]}},brand:{navy:{value:"#172f41",original:{value:"#172F41"},name:"ColorBrandNavy",attributes:{category:"color",type:"brand",item:"navy"},path:["color","brand","navy"]},orange:{value:"#ee6123",original:{value:"#EE6123"},name:"ColorBrandOrange",attributes:{category:"color",type:"brand",item:"orange"},path:["color","brand","orange"]}},pure:{black:{value:"#000000",original:{value:"#000000"},name:"ColorPureBlack",attributes:{category:"color",type:"pure",item:"black"},path:["color","pure","black"]},white:{value:"#ffffff",original:{value:"#ffffff"},name:"ColorPureWhite",attributes:{category:"color",type:"pure",item:"white"},path:["color","pure","white"]}}},font:{sans:{value:"'Proxima Nova', 'Open Sans', Arial, sans-serif",original:{value:"'Proxima Nova', 'Open Sans', Arial, sans-serif"},name:"FontSans",attributes:{category:"font",type:"sans"},path:["font","sans"]}},grid:{xl:{totalWidth:{value:"1140",original:{value:"1140"},name:"GridXlTotalWidth",attributes:{category:"grid",type:"xl",item:"totalWidth"},path:["grid","xl","totalWidth"]},numberOfColumns:{value:"12",original:{value:"12"},name:"GridXlNumberOfColumns",attributes:{category:"grid",type:"xl",item:"numberOfColumns"},path:["grid","xl","numberOfColumns"]},columnWidth:{value:"75",original:{value:"75"},name:"GridXlColumnWidth",attributes:{category:"grid",type:"xl",item:"columnWidth"},path:["grid","xl","columnWidth"]},gutterWidth:{value:"20",original:{value:"20"},name:"GridXlGutterWidth",attributes:{category:"grid",type:"xl",item:"gutterWidth"},path:["grid","xl","gutterWidth"]},guttersOutside:{value:"true",original:{value:"true"},name:"GridXlGuttersOutside",attributes:{category:"grid",type:"xl",item:"guttersOutside"},path:["grid","xl","guttersOutside"]}},l:{totalWidth:{value:"860",original:{value:"860"},name:"GridLTotalWidth",attributes:{category:"grid",type:"l",item:"totalWidth"},path:["grid","l","totalWidth"]},numberOfColumns:{value:"12",original:{value:"12"},name:"GridLNumberOfColumns",attributes:{category:"grid",type:"l",item:"numberOfColumns"},path:["grid","l","numberOfColumns"]},columnWidth:{value:"52",original:{value:"52"},name:"GridLColumnWidth",attributes:{category:"grid",type:"l",item:"columnWidth"},path:["grid","l","columnWidth"]},gutterWidth:{value:"20",original:{value:"20"},name:"GridLGutterWidth",attributes:{category:"grid",type:"l",item:"gutterWidth"},path:["grid","l","gutterWidth"]},guttersOutside:{value:"true",original:{value:"true"},name:"GridLGuttersOutside",attributes:{category:"grid",type:"l",item:"guttersOutside"},path:["grid","l","guttersOutside"]}},m:{totalWidth:{value:"560",original:{value:"560"},name:"GridMTotalWidth",attributes:{category:"grid",type:"m",item:"totalWidth"},path:["grid","m","totalWidth"]},numberOfColumns:{value:"6",original:{value:"6"},name:"GridMNumberOfColumns",attributes:{category:"grid",type:"m",item:"numberOfColumns"},path:["grid","m","numberOfColumns"]},columnWidth:{value:"73",original:{value:"73"},name:"GridMColumnWidth",attributes:{category:"grid",type:"m",item:"columnWidth"},path:["grid","m","columnWidth"]},gutterWidth:{value:"20",original:{value:"20"},name:"GridMGutterWidth",attributes:{category:"grid",type:"m",item:"gutterWidth"},path:["grid","m","gutterWidth"]},guttersOutside:{value:"true",original:{value:"true"},name:"GridMGuttersOutside",attributes:{category:"grid",type:"m",item:"guttersOutside"},path:["grid","m","guttersOutside"]}},s:{totalWidth:{value:"355",original:{value:"355"},name:"GridSTotalWidth",attributes:{category:"grid",type:"s",item:"totalWidth"},path:["grid","s","totalWidth"]},numberOfColumns:{value:"4",original:{value:"4"},name:"GridSNumberOfColumns",attributes:{category:"grid",type:"s",item:"numberOfColumns"},path:["grid","s","numberOfColumns"]},columnWidth:{value:"69",original:{value:"69"},name:"GridSColumnWidth",attributes:{category:"grid",type:"s",item:"columnWidth"},path:["grid","s","columnWidth"]},gutterWidth:{value:"20",original:{value:"20"},name:"GridSGutterWidth",attributes:{category:"grid",type:"s",item:"gutterWidth"},path:["grid","s","gutterWidth"]},guttersOutside:{value:"true",original:{value:"true"},name:"GridSGuttersOutside",attributes:{category:"grid",type:"s",item:"guttersOutside"},path:["grid","s","guttersOutside"]}}},size:{font:{s:{value:"16rem",original:{value:"16"},name:"SizeFontS",attributes:{category:"size",type:"font",item:"s"},path:["size","font","s"]},m:{value:"18rem",original:{value:"18"},name:"SizeFontM",attributes:{category:"size",type:"font",item:"m"},path:["size","font","m"]},l:{value:"24rem",original:{value:"24"},name:"SizeFontL",attributes:{category:"size",type:"font",item:"l"},path:["size","font","l"]},xl:{value:"32rem",original:{value:"32"},name:"SizeFontXl",attributes:{category:"size",type:"font",item:"xl"},path:["size","font","xl"]}}}}},"./node_modules/mocha-js-delegate/index.js":
/*!*************************************************!*\
  !*** ./node_modules/mocha-js-delegate/index.js ***!
  \*************************************************/
/*! no static exports found */function(module,exports){module.exports=function MochaDelegate(definition,superclass){var uniqueClassName="MochaJSDelegate_DynamicClass_"+NSUUID.UUID().UUIDString(),delegateClassDesc=MOClassDescription.allocateDescriptionForClassWithName_superclass_(uniqueClassName,superclass||NSObject),handlers={},ivars={};function setHandlerForSelector(selectorString,func){var handlerHasBeenSet=selectorString in handlers,selector=NSSelectorFromString(selectorString);if(handlers[selectorString]=func,!handlerHasBeenSet){for(var args=[],regex=/:/g;regex.exec(selectorString);)args.push("arg"+args.length);var dynamicFunction=eval("(function ("+args.join(", ")+") { return handlers[selectorString].apply(this, arguments); })");delegateClassDesc.addInstanceMethodWithSelector_function(selector,dynamicFunction)}}function setIvar(e,t){var o=e in handlers;if(ivars[e]=t,!o){delegateClassDesc.addInstanceVariableWithName_typeEncoding(e,"@");var n=MOPropertyDescription.new();n.name=e,n.typeEncoding="@",n.weak=!0,n.ivarName=e,delegateClassDesc.addProperty(n)}}this.getClass=function(){return NSClassFromString(uniqueClassName)},this.getClassInstance=function(e){var t=NSClassFromString(uniqueClassName).new();return Object.keys(ivars).forEach(function(e){t[e]=ivars[e]}),Object.keys(e||{}).forEach(function(o){t[o]=e[o]}),t},this.new=this.getClassInstance,"object"==typeof definition&&Object.keys(definition).forEach(function(e){"function"==typeof definition[e]?setHandlerForSelector(e,definition[e]):setIvar(e,definition[e])}),delegateClassDesc.registerClass()}},"./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */function(e,t,o){(function(t,o){var n,i,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===t)return t(e,0);if((n===a||!n)&&t)return n=t,t(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof t?t:a}catch(e){n=a}try{i="function"==typeof o?o:l}catch(e){i=l}}();var u,c=[],d=!1,m=-1;function f(){d&&u&&(d=!1,u.length?c=u.concat(c):m=-1,c.length&&h())}function h(){if(!d){var e=s(f);d=!0;for(var t=c.length;t;){for(u=c,c=[];++m<t;)u&&u[m].run();m=-1,t=c.length}u=null,d=!1,function(e){if(i===o)return o(e);if((i===l||!i)&&o)return i=o,o(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new p(e,t)),1!==c.length||d||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}).call(this,o(/*! ./node_modules/@skpm/timers/timeout.js */"./node_modules/@skpm/timers/timeout.js").setTimeout,o(/*! ./node_modules/@skpm/timers/timeout.js */"./node_modules/@skpm/timers/timeout.js").clearTimeout)},"./node_modules/promise-polyfill/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/lib/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,o){"use strict";(function(t,o){var n=t;function i(e){return Boolean(e&&void 0!==e.length)}function r(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var o=1===e._state?t.onFulfilled:t.onRejected;if(null!==o){var n;try{n=o(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,n)}else(1===e._state?s:u)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"==typeof o)return void d(function(e,t){return function(){e.apply(t,arguments)}}(o,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,o=e._deferreds.length;t<o;t++)l(e,e._deferreds[t]);e._deferreds=null}function d(e,t){var o=!1;try{e(function(e){o||(o=!0,s(t,e))},function(e){o||(o=!0,u(t,e))})}catch(e){if(o)return;o=!0,u(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var o=new this.constructor(r);return l(this,new function(e,t,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=o}(e,t,o)),o},a.prototype.finally=function(e){var t=this.constructor;return this.then(function(o){return t.resolve(e()).then(function(){return o})},function(o){return t.resolve(e()).then(function(){return t.reject(o)})})},a.all=function(e){return new a(function(t,o){if(!i(e))return o(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var r=n.length;function a(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var l=i.then;if("function"==typeof l)return void l.call(i,function(t){a(e,t)},o)}n[e]=i,0==--r&&t(n)}catch(e){o(e)}}for(var l=0;l<n.length;l++)a(l,n[l])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,o){o(e)})},a.race=function(e){return new a(function(t,o){if(!i(e))return o(new TypeError("Promise.race accepts an array"));for(var n=0,r=e.length;n<r;n++)a.resolve(e[n]).then(t,o)})},a._immediateFn="function"==typeof o&&function(e){o(e)}||function(e){n(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=a}).call(this,o(/*! ./node_modules/@skpm/timers/timeout.js */"./node_modules/@skpm/timers/timeout.js").setTimeout,o(/*! ./node_modules/@skpm/timers/immediate.js */"./node_modules/@skpm/timers/immediate.js").setImmediate)},"./node_modules/sketch-module-web-view/lib/browser-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/browser-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,o){function n(o){e.isVisible()&&(o?(NSApplication.sharedApplication().activateIgnoringOtherApps(!0),t.makeKeyAndOrderFront(null)):(t.orderBack(null),NSApp.mainWindow().makeKeyAndOrderFront(null)))}e._panel=t,e._webview=o,e._destroyed=!1,e.destroy=function(){return t.close()},e.close=function(){if(t.delegate().utils.parentWindow){var o=!0;return e.emit("close",{get defaultPrevented(){return!o},preventDefault:function(){o=!1}}),void(o&&t.delegate().utils.parentWindow.endSheet(t))}e.isClosable()&&t.performClose(null)},e.focus=n.bind(this,!0),e.blur=n.bind(this,!1),e.isFocused=function(){return t.isKeyWindow()},e.isDestroyed=function(){return e._destroyed},e.show=function(){return NSApp.activateIgnoringOtherApps(!0),t.delegate().utils.parentWindow?t.delegate().utils.parentWindow.beginSheet_completionHandler(t,__mocha__.createBlock_function("v16@?0q8",function(){e.emit("closed")})):t.makeKeyAndOrderFront(null)},e.showInactive=function(){return t.orderFrontRegardless()},e.hide=function(){return t.orderOut(null)},e.isVisible=function(){return t.isVisible()},e.isModal=function(){return!1},e.maximize=function(){e.isMaximized()||t.zoom(null)},e.unmaximize=function(){e.isMaximized()&&t.zoom(null)},e.isMaximized=function(){if(0!=(t.styleMask()&NSResizableWindowMask))return t.isZoomed();var e=NSScreen.mainScreen().visibleFrame(),o=t.frame();return e.origin.x==o.origin.x&&e.origin.y==o.origin.y&&e.size.width==o.size.width&&e.size.height==o.size.height},e.minimize=function(){return t.miniaturize(null)},e.restore=function(){return t.deminiaturize(null)},e.isMinimized=function(){return t.isMiniaturized()},e.setFullScreen=function(o){o!==e.isFullscreen()&&t.toggleFullScreen(null)},e.isFullscreen=function(){return t.styleMask()&NSFullScreenWindowMask},e.setAspectRatio=function(e){e>0?t.setAspectRatio(NSMakeSize(e,1)):t.setResizeIncrements(NSMakeSize(1,1))},e.setBounds=function(o,n){if(!o)return;if(e.isFullscreen())return;const i=Object.assign(e.getBounds(),o);var r=NSMakeRect(i.x,0,i.width,i.height),a=NSScreen.screens().firstObject();r.origin.y=NSHeight(a.frame())-i.y,t.setFrame_display_animate(r,!0,n)},e.getBounds=function(){const e=t.frame();var o=NSScreen.screens().firstObject().frame();return{x:e.origin.x,y:Math.round(NSHeight(o)-e.origin.y),width:e.size.width,height:e.size.height}},e.setContentBounds=function(t,o){e.setBounds(t,o)},e.getContentBounds=function(){return e.getBounds()},e.setSize=function(t,o,n){return e.setBounds({width:t,height:o},n)},e.getSize=function(){var t=e.getBounds();return[t.width,t.height]},e.setContentSize=function(t,o,n){return e.setContentBounds({width:t,height:o},n)},e.getContentSize=function(){var t=e.getContentBounds();return[t.width,t.height]},e.setMinimumSize=function(e,o){const n=CGSizeMake(e,o);t.setContentMinSize(n)},e.getMinimumSize=function(){const e=t.contentMinSize();return[e.width,e.height]},e.setMaximumSize=function(e,o){const n=CGSizeMake(e,o);t.setContentMaxSize(n)},e.getMaximumSize=function(){const e=t.contentMaxSize();return[e.width,e.height]},e.setResizable=function(t){return e._setStyleMask(t,NSResizableWindowMask)},e.isResizable=function(){return t.styleMask()&NSResizableWindowMask},e.setMovable=function(e){return t.setMovable(e)},e.isMovable=function(){return t.isMovable()},e.setMinimizable=function(t){return e._setStyleMask(t,NSMiniaturizableWindowMask)},e.isMinimizable=function(){return t.styleMask()&NSMiniaturizableWindowMask},e.setMaximizable=function(e){t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).setEnabled(e)},e.isMaximizable=function(){return t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).isEnabled()},e.setFullScreenable=function(t){e._setCollectionBehavior(t,NSWindowCollectionBehaviorFullScreenPrimary),e._setCollectionBehavior(!t,NSWindowCollectionBehaviorFullScreenAuxiliary)},e.isFullScreenable=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorFullScreenPrimary},e.setClosable=function(t){e._setStyleMask(t,NSClosableWindowMask)},e.isClosable=function(){return t.styleMask()&NSClosableWindowMask},e.setAlwaysOnTop=function(e,o,n){var i=NSNormalWindowLevel,r=CGWindowLevelForKey(kCGMaximumWindowLevelKey),a=CGWindowLevelForKey(kCGMinimumWindowLevelKey);e&&(i="normal"===o?NSNormalWindowLevel:"torn-off-menu"===o?NSTornOffMenuWindowLevel:"modal-panel"===o?NSModalPanelWindowLevel:"main-menu"===o?NSMainMenuWindowLevel:"status"===o?NSStatusWindowLevel:"pop-up-menu"===o?NSPopUpMenuWindowLevel:"screen-saver"===o?NSScreenSaverWindowLevel:"dock"===o?NSDockWindowLevel:NSFloatingWindowLevel);var l=i+(n||0);if(!(l>=a&&l<=r))throw new Error("relativeLevel must be between "+a+" and "+r);t.setLevel(l)},e.isAlwaysOnTop=function(){return t.level()!==NSNormalWindowLevel},e.moveTop=function(){return t.orderFrontRegardless()},e.center=function(){t.center()},e.setPosition=function(t,o,n){return e.setBounds({x:t,y:o},n)},e.getPosition=function(){var t=e.getBounds();return[t.x,t.y]},e.setTitle=function(e){t.setTitle(e)},e.getTitle=function(){return String(t.title())};var i=0;e.flashFrame=function(e){e?i=NSApp.requestUserAttention(NSInformationalRequest):(NSApp.cancelUserAttentionRequest(i),i=0)},e.getNativeWindowHandle=function(){return t},e.getNativeWebViewHandle=function(){return o},e.loadURL=function(e){if(/^(?!https?|file).*\.html?$/.test(e)&&"undefined"!=typeof __command&&__command.pluginBundle()&&(e="file://"+__command.pluginBundle().urlForResourceNamed(e).path()),/^file:\/\/.*\.html?$/.test(e))return e=(e=NSString.alloc().initWithString(e)).stringByAddingPercentEncodingWithAllowedCharacters(NSCharacterSet.URLQueryAllowedCharacterSet()),void o.loadFileURL_allowingReadAccessToURL(NSURL.URLWithString(e),NSURL.URLWithString("file:///"));const t=NSURL.URLWithString(e),n=NSURLRequest.requestWithURL(t);o.loadRequest(n)},e.reload=function(){o.reload()},e.setHasShadow=function(e){return t.setHasShadow(e)},e.hasShadow=function(){return t.hasShadow()},e.setOpacity=function(e){return t.setAlphaValue(e)},e.getOpacity=function(){return t.alphaValue()},e.setVisibleOnAllWorkspaces=function(t){return e._setCollectionBehavior(t,NSWindowCollectionBehaviorCanJoinAllSpaces)},e.isVisibleOnAllWorkspaces=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorCanJoinAllSpaces},e.setIgnoreMouseEvents=function(e){return t.setIgnoresMouseEvents(e)},e.setContentProtection=function(e){t.setSharingType(e?NSWindowSharingNone:NSWindowSharingReadOnly)},e.setAutoHideCursor=function(e){t.setDisableAutoHideCursor(e)},e.setVibrancy=function(o){var n=e._vibrantView;if(!o){if(null==n)return;return n.removeFromSuperview(),void t.setVibrantView(null)}if(null==n){var i=t.contentView();n=NSVisualEffectView.alloc().initWithFrame(i.bounds()),e._vibrantView=n,n.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),n.setBlendingMode(NSVisualEffectBlendingModeBehindWindow),n.setState(NSVisualEffectStateActive),n.setFrame(i.bounds()),i.addSubview_positioned_relativeTo(n,NSWindowBelow,null)}var r=NSVisualEffectMaterialLight;"appearance-based"===o?r=NSVisualEffectMaterialAppearanceBased:"light"===o?r=NSVisualEffectMaterialLight:"dark"===o?r=NSVisualEffectMaterialDark:"titlebar"===o?r=NSVisualEffectMaterialTitlebar:"selection"===o?r=NSVisualEffectMaterialSelection:"menu"===o?r=NSVisualEffectMaterialMenu:"popover"===o?r=NSVisualEffectMaterialPopover:"sidebar"===o?r=NSVisualEffectMaterialSidebar:"medium-light"===o?r=NSVisualEffectMaterialMediumLight:"ultra-dark"===o&&(r=NSVisualEffectMaterialUltraDark),n.setMaterial(r)},e._setBackgroundColor=function(e){var n=function(e){if(!e||"#"!==e[0]){if(e&&"function"==typeof e.isKindOfClass&&e.isKindOfClass(NSColor))return e;throw new Error("Incorrect color formating. It should be an hex color: #RRGGBBAA")}var t,o=e.substr(1);if(3===o.length?o+="F":6===o.length&&(o+="FF"),4===o.length)for(var n=0;n<4;n+=1)t+=o[n],t+=o[n];else{if(8!==o.length)return NSColor.whiteColor();t=o}var i=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),a=parseInt(t.slice(4,6),16),l=parseInt(t.slice(6,8),16);return NSColor.colorWithSRGBRed_green_blue_alpha(i,r,a,l)}(e);o.setValue_forKey(!1,"drawsBackground"),t.backgroundColor=n},e._invalidate=function(){t.flushWindow(),t.contentView().setNeedsDisplay(!0)},e._setStyleMask=function(o,n){var i=e.isMaximizable();o?t.setStyleMask(t.styleMask()|n):t.setStyleMask(t.styleMask()&~n),e.setMaximizable(i)},e._setCollectionBehavior=function(o,n){var i=e.isMaximizable();o?t.setCollectionBehavior(t.collectionBehavior()|n):t.setCollectionBehavior(t.collectionBehavior()&~n),e.setMaximizable(i)},e._showWindowButton=function(e){var o=t.standardWindowButton(e);o.superview().addSubview_positioned_relative(o,NSWindowAbove,null)}}},"./node_modules/sketch-module-web-view/lib/constants.js":
/*!**************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/constants.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t){e.exports={JS_BRIDGE:"__skpm_sketchBridge",START_MOVING_WINDOW:"__skpm_startMovingWindow",EXECUTE_JAVASCRIPT:"__skpm_executeJS",EXECUTE_JAVASCRIPT_SUCCESS:"__skpm_executeJS_success_",EXECUTE_JAVASCRIPT_ERROR:"__skpm_executeJS_error_"}},"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js":
/*!*************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/dispatch-first-click.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){var o=e.convertPoint_fromView(t.locationInWindow(),null);return"var el = document.elementFromPoint("+o.x+", "+o.y+'); if (el && ["text", "textarea", "date", "datetime-local", "email", "number", "month", "password", "search", "tel", "time", "url", "week" ].indexOf(el.type) >= 0 && el.focus) {el.focus();} else if (el) {el.dispatchEvent(new Event("click", {bubbles: true}))}'}},"./node_modules/sketch-module-web-view/lib/execute-javascript.js":
/*!***********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/execute-javascript.js ***!
  \***********************************************************************/
/*! no static exports found */function(e,t,o){(function(t){var n=o(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(o,i){return function r(a,l,s){"function"==typeof l&&(s=l,l=!1);var u=coscript.createFiber();return 0==o.navigationDelegate().state.wasReady?new t(function(e,t){i.once("ready-to-show",function(){r(a,l,s).then(e).catch(t),u.cleanup()})}):new t(function(t,r){var l=Math.random();i.webContents.on(n.EXECUTE_JAVASCRIPT_SUCCESS+l,function(e){try{s&&s(null,e),t(e)}catch(e){r(e)}u.cleanup()}),i.webContents.on(n.EXECUTE_JAVASCRIPT_ERROR+l,function(e){try{s?(s(e),t()):r(e)}catch(e){r(e)}u.cleanup()}),o.evaluateJavaScript_completionHandler(e.exports.wrapScript(a,l),null)})}},e.exports.wrapScript=function(e,t){return"window."+n.EXECUTE_JAVASCRIPT+"("+t+", "+JSON.stringify(e)+")"},e.exports.injectScript=function(e){var t="window."+n.EXECUTE_JAVASCRIPT+' = function(id, script) {  try {    var res = eval(script);    if (res && typeof res.then === "function" && typeof res.catch === "function") {      res.then(function (res2) {        window.postMessage("'+n.EXECUTE_JAVASCRIPT_SUCCESS+'" + id, res2);      })      .catch(function (err) {        window.postMessage("'+n.EXECUTE_JAVASCRIPT_ERROR+'" + id, err);      })    } else {      window.postMessage("'+n.EXECUTE_JAVASCRIPT_SUCCESS+'" + id, res);    }  } catch (err) {    window.postMessage("'+n.EXECUTE_JAVASCRIPT_ERROR+'" + id, err);  }}',o=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(o)}}).call(this,o(/*! ./node_modules/promise-polyfill/lib/index.js */"./node_modules/promise-polyfill/lib/index.js"))},"./node_modules/sketch-module-web-view/lib/fitSubview.js":
/*!***************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/fitSubview.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t){function o(e,t,o,n){o.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(t,e,NSLayoutRelationEqual,o,e,1,n))}e.exports=function(e,t,n){n=n||[],e.setTranslatesAutoresizingMaskIntoConstraints(!1),o(NSLayoutAttributeLeft,e,t,n[0]||0),o(NSLayoutAttributeTop,e,t,n[1]||0),o(NSLayoutAttributeRight,e,t,n[2]||0),o(NSLayoutAttributeBottom,e,t,n[3]||0)}},"./node_modules/sketch-module-web-view/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,o){var n=o(/*! events */"events"),i=o(/*! ./browser-api */"./node_modules/sketch-module-web-view/lib/browser-api.js"),r=o(/*! ./webview-api */"./node_modules/sketch-module-web-view/lib/webview-api.js"),a=o(/*! ./fitSubview */"./node_modules/sketch-module-web-view/lib/fitSubview.js"),l=o(/*! ./dispatch-first-click */"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js"),s=o(/*! ./inject-client-messaging */"./node_modules/sketch-module-web-view/lib/inject-client-messaging.js"),u=o(/*! ./movable-area */"./node_modules/sketch-module-web-view/lib/movable-area.js"),c=o(/*! ./execute-javascript */"./node_modules/sketch-module-web-view/lib/execute-javascript.js"),d=o(/*! ./set-delegates */"./node_modules/sketch-module-web-view/lib/set-delegates.js");function m(e){var t=(e=e||{}).identifier||NSUUID.UUID().UUIDString(),o=NSThread.mainThread().threadDictionary(),f=m.fromId(t);if(f)return f;var h=new n;if(h.id=t,e.modal&&!e.parent)throw new Error("A modal needs to have a parent.");var p=coscript.createFiber(),g=e.width||800,v=e.height||600,w=NSScreen.screens().firstObject().frame(),b=NSMakeRect(void 0!==e.x?e.x:Math.round((NSWidth(w)-g)/2),void 0!==e.y?NSHeight(w)-e.y:Math.round((NSHeight(w)-v)/2),g,v);e.titleBarStyle&&"default"!==e.titleBarStyle&&(e.frame=!1);var y="textured"!==e.windowType,S=NSTitledWindowMask;!1!==e.minimizable&&(S|=NSMiniaturizableWindowMask),!1!==e.closable&&(S|=NSClosableWindowMask),!1!==e.resizable&&(S|=NSResizableWindowMask),y&&!e.transparent&&!1!==e.frame||(S|=NSTexturedBackgroundWindowMask);var C=NSPanel.alloc().initWithContentRect_styleMask_backing_defer(b,S,NSBackingStoreBuffered,!0),_=WKWebViewConfiguration.alloc().init(),W=WKWebView.alloc().initWithFrame_configuration(CGRectMake(0,0,e.width||800,e.height||600),_);if(s(W),W.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),i(h,C,W),r(h,C,W),d(h,C,W,e),"desktop"===e.windowType&&(C.setLevel(kCGDesktopWindowLevel-1),C.setCollectionBehavior(NSWindowCollectionBehaviorCanJoinAllSpaces|NSWindowCollectionBehaviorStationary|NSWindowCollectionBehaviorIgnoresCycle)),void 0===e.minWidth&&void 0===e.minHeight||h.setMinimumSize(e.minWidth||0,e.minHeight||0),void 0===e.maxWidth&&void 0===e.maxHeight||h.setMaximumSize(e.maxWidth||1e4,e.maxHeight||1e4),e.transparent||!1===e.frame){C.titlebarAppearsTransparent=!0,C.titleVisibility=NSWindowTitleHidden,C.setOpaque(0),C.isMovableByWindowBackground=!0;var N=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");N.setShowsBaselineSeparator(!1),C.setToolbar(N)}if("hiddenInset"===e.titleBarStyle){var k=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");k.setShowsBaselineSeparator(!1),C.setToolbar(k)}!1!==e.frame&&e.useContentSize||h.setSize(g,v),e.center&&h.center(),e.alwaysOnTop&&h.setAlwaysOnTop(!0),e.fullscreen&&h.setFullScreen(!0),h.setFullScreenable(!!e.fullscreenable);const M=e.title||("undefined"!=typeof __command&&__command.pluginBundle()?__command.pluginBundle().name():void 0);M&&h.setTitle(M);var E=e.backgroundColor;e.transparent&&(E=NSColor.clearColor()),!E&&!1===e.frame&&e.vibrancy&&(E=NSColor.clearColor()),h._setBackgroundColor(E||NSColor.windowBackgroundColor()),!1===e.hasShadow&&h.setHasShadow(!1),void 0!==e.opacity&&h.setOpacity(e.opacity),e.webPreferences=e.webPreferences||{},W.configuration().preferences().setValue_forKey(!1!==e.webPreferences.devTools,"developerExtrasEnabled"),W.configuration().preferences().setValue_forKey(!1!==e.webPreferences.javascript,"javaScriptEnabled"),W.configuration().preferences().setValue_forKey(!!e.webPreferences.plugins,"plugInsEnabled"),W.configuration().preferences().setValue_forKey(e.webPreferences.minimumFontSize||0,"minimumFontSize"),e.webPreferences.zoomFactor&&W.setMagnification(e.webPreferences.zoomFactor);var x=C.contentView();return!1!==e.frame?(W.setFrame(x.bounds()),x.addSubview(W)):(x.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),a(x,x.superview()),W.setFrame(x.bounds()),x.addSubview(W),C.standardWindowButton(NSWindowFullScreenButton)&&C.standardWindowButton(NSWindowFullScreenButton).setHidden(!0),e.titleBarStyle&&"default"!==e.titleBarStyle||(C.standardWindowButton(NSWindowZoomButton).setHidden(!0),C.standardWindowButton(NSWindowMiniaturizeButton).setHidden(!0),C.standardWindowButton(NSWindowCloseButton).setHidden(!0),C.standardWindowButton(NSWindowZoomButton).setEnabled(!1))),e.vibrancy&&h.setVibrancy(e.vibrancy),h.setMaximizable(!1!==e.maximizable),e.acceptsFirstMouse&&h.on("focus",function(e){e.type()===NSEventTypeLeftMouseDown&&h.webContents.executeJavaScript(l(W,e)).catch(()=>{})}),c.injectScript(W),u.injectScript(W),u.setupHandler(h),!1!==e.show&&h.show(),h.on("closed",function(){h._destroyed=!0,o.removeObjectForKey(t),p.cleanup()}),o[t]=C,p.onCleanup(function(){h._destroyed||h.destroy()}),h}m.fromId=function(e){var t=NSThread.mainThread().threadDictionary();if(t[e])return m.fromPanel(t[e],e)},m.fromPanel=function(e,t){var o=new n;if(o.id=t,!e||!e.contentView)throw new Error("needs to pass an NSPanel");for(var a=null,l=e.contentView().subviews(),s=0;s<l.length;s+=1)a||l[s].isKindOfClass(WKInspectorWKWebView)||!l[s].isKindOfClass(WKWebView)||(a=l[s]);if(!a)throw new Error("The panel needs to have a webview");return i(o,e,a),r(o,e,a),o},e.exports=m},"./node_modules/sketch-module-web-view/lib/inject-client-messaging.js":
/*!****************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/inject-client-messaging.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,t,o){var n=o(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(e){var t="window.originalPostMessage = window.postMessage;window.postMessage = function(actionName) {if (!actionName) {throw new Error('missing action name')}window.webkit.messageHandlers."+n.JS_BRIDGE+".postMessage(JSON.stringify([].slice.call(arguments)));}",o=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(o)}},"./node_modules/sketch-module-web-view/lib/movable-area.js":
/*!*****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/movable-area.js ***!
  \*****************************************************************/
/*! no static exports found */function(e,t,o){(function(t,n){var i=o(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports.injectScript=function(e){var t='(function () {document.addEventListener(\'mousedown\', onMouseDown);function shouldDrag(target) {  if (!target || (target.dataset || {}).appRegion === "no-drag") { return false }  if ((target.dataset || {}).appRegion === "drag") { return true }  return shouldDrag(target.parentElement)};function onMouseDown(e) {  if (e.button !== 0 || !shouldDrag(e.target)) { return }  window.postMessage("'+i.START_MOVING_WINDOW+'");};})()',o=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(o)},e.exports.setupHandler=function(e){var o=null,r=null,a=null;function l(){if(!r||1!==NSEvent.pressedMouseButtons())return t(a),o=null,void(r=null);var n=NSEvent.mouseLocation();e.setPosition(r.x+(n.x-o.x),r.y+(o.y-n.y),!1)}e.webContents.on(i.START_MOVING_WINDOW,function(){o=NSEvent.mouseLocation();var t=e.getPosition();r={x:t[0],y:t[1]},a=n(l,1e3/60)})}}).call(this,o(/*! ./node_modules/@skpm/timers/interval.js */"./node_modules/@skpm/timers/interval.js").clearInterval,o(/*! ./node_modules/@skpm/timers/interval.js */"./node_modules/@skpm/timers/interval.js").setInterval)},"./node_modules/sketch-module-web-view/lib/parseWebArguments.js":
/*!**********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/parseWebArguments.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t&&t.constructor&&t.constructor===Array&&0!=t.length?t:null}},"./node_modules/sketch-module-web-view/lib/set-delegates.js":
/*!******************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/set-delegates.js ***!
  \******************************************************************/
/*! no static exports found */function(e,t,o){(function(t){var n,i,r,a=o(/*! mocha-js-delegate */"./node_modules/mocha-js-delegate/index.js"),l=o(/*! ./parseWebArguments */"./node_modules/sketch-module-web-view/lib/parseWebArguments.js"),s=o(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(e,o,u,c){n||(n=new a({utils:null,panel:null,"windowDidResize:":function(){this.utils.emit("resize")},"windowDidMiniaturize:":function(){this.utils.emit("minimize")},"windowDidDeminiaturize:":function(){this.utils.emit("restore")},"windowDidEnterFullScreen:":function(){this.utils.emit("enter-full-screen")},"windowDidExitFullScreen:":function(){this.utils.emit("leave-full-screen")},"windowDidMove:":function(){this.utils.emit("move"),this.utils.emit("moved")},"windowShouldClose:":function(){var e=1;return this.utils.emit("close",{get defaultPrevented(){return!e},preventDefault:function(){e=0}}),e},"windowWillClose:":function(){this.utils.emit("closed")},"windowDidBecomeKey:":function(){this.utils.emit("focus",this.panel.currentEvent())},"windowDidResignKey:":function(){this.utils.emit("blur")}})),i||(i=new a({state:{wasReady:0},utils:null,"webView:didCommitNavigation:":function(e){this.utils.emit("will-navigate",{},String(String(e.URL())))},"webView:didStartProvisionalNavigation:":function(){this.utils.emit("did-start-navigation"),this.utils.emit("did-start-loading")},"webView:didReceiveServerRedirectForProvisionalNavigation:":function(){this.utils.emit("did-get-redirect-request")},"webView:didFailProvisionalNavigation:withError:":function(e,t,o){this.utils.emit("did-fail-load",o)},"webView:didFinishNavigation:":function(){0==this.state.wasReady&&(this.state.wasReady=1,this.utils.emitBrowserEvent("ready-to-show")),this.utils.emit("did-navigate"),this.utils.emit("did-frame-navigate"),this.utils.emit("did-stop-loading"),this.utils.emit("did-finish-load"),this.utils.emit("did-frame-finish-load")},"webViewWebContentProcessDidTerminate:":function(){this.utils.emit("dom-ready")}})),r||(r=new a({utils:null,"userContentController:didReceiveScriptMessage:":function(e,t){var o=this.utils.parseWebArguments(String(t.body()));o&&o[0]&&"string"==typeof o[0]&&(o[0]=String(o[0]),this.utils.emit.apply(this,o))}}));var d=i.new({utils:{setTitle:e.setTitle.bind(e),emitBrowserEvent(){try{e.emit.apply(e,arguments)}catch(e){if(void 0===t||!t.listenerCount||!t.listenerCount("uncaughtException"))throw console.error(e),e;t.emit("uncaughtException",e,"uncaughtException")}},emit(){try{e.webContents.emit.apply(e.webContents,arguments)}catch(e){if(void 0===t||!t.listenerCount||!t.listenerCount("uncaughtException"))throw console.error(e),e;t.emit("uncaughtException",e,"uncaughtException")}}},state:{wasReady:0}});u.setNavigationDelegate(d);var m=r.new({utils:{emit(){try{e.webContents.emit.apply(e.webContents,arguments)}catch(e){if(void 0===t||!t.listenerCount||!t.listenerCount("uncaughtException"))throw console.error(e),e;t.emit("uncaughtException",e,"uncaughtException")}},parseWebArguments:l}});u.configuration().userContentController().addScriptMessageHandler_name(m,s.JS_BRIDGE);var f,h={emit(){try{e.emit.apply(e,arguments)}catch(e){if(void 0===t||!t.listenerCount||!t.listenerCount("uncaughtException"))throw console.error(e),e;t.emit("uncaughtException",e,"uncaughtException")}}};c.modal&&((f="Document"===c.parent.type?c.parent.sketchObject:c.parent)&&"MSDocumentData"===String(f.class())&&(f=f.delegate()),h.parentWindow=f.windowForSheet());var p=n.new({utils:h,panel:o});o.setDelegate(p)}}).call(this,o(/*! ./../../process/browser.js */"./node_modules/process/browser.js"))},"./node_modules/sketch-module-web-view/lib/webview-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/webview-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t,o){var n=o(/*! events */"events"),i=o(/*! ./execute-javascript */"./node_modules/sketch-module-web-view/lib/execute-javascript.js");e.exports=function(e,t,o){var r=new n;r.loadURL=e.loadURL,r.loadFile=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.downloadURL=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.getURL=function(){return String(o.url())},r.getTitle=function(){return String(o.title())},r.isDestroyed=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.focus=e.focus,r.isFocused=e.isFocused,r.isLoading=function(){return!!o.loading()},r.isLoadingMainFrame=function(){return!!o.loading()},r.isWaitingForResponse=function(){return!o.loading()},r.stop=function(){o.stopLoading()},r.reload=function(){o.reload()},r.reloadIgnoringCache=function(){o.reloadFromOrigin()},r.canGoBack=function(){return!!o.canGoBack()},r.canGoForward=function(){return!!o.canGoForward()},r.canGoToOffset=function(e){return!!o.backForwardList().itemAtIndex(e)},r.clearHistory=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.goBack=function(){o.goBack()},r.goForward=function(){o.goForward()},r.goToIndex=function(e){var t=o.backForwardList(),n=t.backList(),i=n.count();if(i>e)o.loadRequest(NSURLRequest.requestWithURL(n[e]));else{var r=t.forwardList();if(!(r.count()>e-i))throw new Error("Cannot go to index "+e);o.loadRequest(NSURLRequest.requestWithURL(r[e-i]))}},r.goToOffset=function(e){if(!r.canGoToOffset(e))throw new Error("Cannot go to offset "+e);o.loadRequest(NSURLRequest.requestWithURL(o.backForwardList().itemAtIndex(e)))},r.isCrashed=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.setUserAgent=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.getUserAgent=function(){const e=o.customUserAgent();return e?String(e):void 0},r.insertCSS=function(e){var t="var style = document.createElement('style'); style.innerHTML = "+e.replace(/"/,'\\"')+"; document.head.appendChild(style);",n=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);o.configuration().userContentController().addUserScript(n)},r.insertJS=function(e){var t=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(e,0,!0);o.configuration().userContentController().addUserScript(t)},r.executeJavaScript=i(o,e),r.setIgnoreMenuShortcuts=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.setAudioMuted=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.isAudioMuted=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.setZoomFactor=function(e){o.setMagnification_centeredAtPoint(e,CGPointMake(0,0))},r.getZoomFactor=function(e){e(Number(o.magnification()))},r.setZoomLevel=function(e){r.setZoomFactor(Math.pow(1.2,e))},r.getZoomLevel=function(e){e(Math.log(Number(o.magnification()))/Math.log(1.2))},r.setVisualZoomLevelLimits=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.setLayoutZoomLevelLimits=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},r.send=function(){const e="window.postMessage({isSketchMessage: true,origin: '"+String(__command.identifier())+"',args: "+JSON.stringify([].slice.call(arguments))+'}, "*")';o.evaluateJavaScript_completionHandler(e,null)},r.getNativeWebview=function(){return o},e.webContents=r}},"./node_modules/sketch-module-web-view/remote.js":
/*!*******************************************************!*\
  !*** ./node_modules/sketch-module-web-view/remote.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,o){var n=NSThread.mainThread().threadDictionary();e.exports.getWebview=function(e){return o(/*! ./lib */"./node_modules/sketch-module-web-view/lib/index.js").fromId(e)},e.exports.isWebviewPresent=function(e){return!!n[e]},e.exports.sendToWebview=function(t,o){if(e.exports.isWebviewPresent(t)){for(var i=null,r=n[t].contentView().subviews(),a=0;a<r.length;a+=1)i||r[a].isKindOfClass(WKInspectorWKWebView)||!r[a].isKindOfClass(WKWebView)||(i=r[a]);if(!i||!i.evaluateJavaScript_completionHandler)throw new Error("Webview "+t+" not found");i.evaluateJavaScript_completionHandler(o,null)}}},"./resources/webview.html":
/*!********************************!*\
  !*** ./resources/webview.html ***!
  \********************************/
/*! no static exports found */function(e,t){e.exports="file://"+context.plugin.urlForResourceNamed("_webpack_resources/2c97274a9440109b8f4645947509d798.html").path()},"./src/my-command.js":
/*!***************************!*\
  !*** ./src/my-command.js ***!
  \***************************/
/*! exports provided: default, onShutdown */function(e,t,o){"use strict";o.r(t),o.d(t,"onShutdown",function(){return d});var n=o(/*! sketch-module-web-view */"./node_modules/sketch-module-web-view/lib/index.js"),i=o.n(n),r=o(/*! sketch-module-web-view/remote */"./node_modules/sketch-module-web-view/remote.js"),a=o(/*! bitly-tokens */"./node_modules/bitly-tokens/dist/tokens.js"),l=o.n(a);function s(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=o(/*! sketch */"sketch"),c="orbison.webview";function d(){var e=Object(r.getWebview)(c);e&&e.close()}function m(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{red:parseInt(t[1],16)/255,green:parseInt(t[2],16)/255,blue:parseInt(t[3],16)/255,alpha:1}:null}t.default=function(){var e={identifier:c,width:425,height:667,moveable:!0,remembersWindowFrame:!0,alwaysOnTop:!0,maximizable:!1,minimizable:!1,resizable:!1},t=new i.a(e);t.once("ready-to-show",function(){t.show()}),t.webContents.on("nativeLog",function(e){var t=JSON.parse(e);switch(log("got message:"+t.command),t.command){case"newArtboard":(function(e){var t={xl:{width:"1440",height:"900"},l:{width:"900",height:"800"},m:{width:"600",height:"800"},s:{width:"375",height:"667"}},o=l.a.grid[e],n=new u.Artboard({name:"Bitly - ".concat(e.toUpperCase()),parent:u.fromNative(context.document).selectedPage,frame:{width:t[e].width,height:t[e].height}}),i=MSLayoutGrid.alloc().init();i.setNumberOfColumns(o.numberOfColumns.value),i.setTotalWidth(o.totalWidth.value),i.setHorizontalOffset((n.frame.width-o.totalWidth.value)/2),i.setGuttersOutside("true"===o.guttersOutside.value?1:0),i.setGutterWidth(o.gutterWidth.value),i.setColumnWidth(o.columnWidth.value),n.sketchObject.setLayout(i)}).apply(void 0,s(t.args));break;case"log":log(t.args.toString());break;case"colors":!function(){var e=[];for(var t in l.a.color)for(var o in l.a.color[t]){var n=l.a.color[t][o].value,i=m(n),r="".concat(l.a.color[t][o].attributes.type,"-").concat(l.a.color[t][o].attributes.item),a=MSColor.colorWithRed_green_blue_alpha(i.red,i.green,i.blue,i.alpha);e.push(MSColorAsset.alloc().initWithAsset_name(a,r))}context.document.documentData().assets().addColorAssets(e)}();break;default:log("i dont know how to do that")}}),t.loadURL(o(/*! ../resources/webview.html */"./resources/webview.html"))}},events:
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("events")},sketch:
/*!*************************!*\
  !*** external "sketch" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("sketch")}});"default"===key&&"function"==typeof exports?exports(context):exports[key](context)}that.onRun=__skpm_run.bind(this,"default"),that.onShutdown=__skpm_run.bind(this,"onShutdown");